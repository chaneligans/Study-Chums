<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset=utf-8>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Study Chums</title>
    <link rel="icon" href="images/favicon.ico">
    <link rel="stylesheet" href="main.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css"><script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    
    <script type="text/javascript" src="scripts/db_login.js"></script>
    <script type="text/javascript" src="scripts/db_register.js"></script>
    
    <script>
    $(document).ready(function(){
      $('.navbar-toggle').click(function() {
        $('#nav').toggle('.unhide');
      });
    });
    </script>
    <style>
        .card {
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
            max-width: 300px;
            margin: auto;
            text-align: center;
            font-family: arial;
        }

        .title {
            color: grey;
            font-size: 18px;
            }

        button {
            border: none;
            outline: 0;
            display: inline-block;
            padding: 8px;
            color: white;
            background-color: #000;
            text-align: center;
            cursor: pointer;
            width: 100%;
            font-size: 18px;
            }

        a {
            text-decoration: none;
            font-size: 22px;
            color: black;
            }

        button:hover, a:hover {
            opacity: 0.7;
        }
      </style>

  </head>
  <body>

    <div id="wrapper">

      <!-- NAVIGATION MENU -->
      <nav class="navbar">
        <span class="navbar-toggle" id="js-navbar-toggle">
          &#x2630;
        </span>

        <ul id="nav" class="main-nav">
          <li><a href="home.html" class="nav-item">Home</a></li>
          <li><a href="profile.html" class="nav-item">Profile</a></li>
          <li><a href="messages.html" class="nav-item">Messages</a></li>
          <li><a href="chums.html" class="nav-item">Chums</a></li>
          <li><a href="applications.html" class="nav-item">Applications</a></li>
          <li><a href="index.html" class="nav-item" onclick="FacebookSignOut();">Sign Out</a></li>
        </ul>
      </nav>
      <!-- END OF NAVIGATION MENU -->

      <!-- CONTENT (description, profiles) -->
      <div id="description">
        <h1>Find your study buddy!</h1>
      </div>

      <div id="content">
        <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase.js">
          //set the configuration
          var config = {
            apiKey: 'AIzaSyDFPHvR2SV7dodysPpvLUfIGp6huuBDf0A',
            authDomain: 'study-chums.firebaseapp.com',
            databaseURL: 'https://study-chums.firebaseio.com',
            storageBucket: 'study-chums.appspot.com'
          };
          firebase.initializeApp(config);

          // Get a reference to the storage service, which is used to create references in your storage bucket
          var storage = firebase.storage();
          // Create a storage reference from our storage service
          var storageRef = storage.ref();
        </script>

      </div>
      <div id= "profileview">
        <script>
              document.getElementById("demo").innerHTML = 5 + 6;
        </script>
        <script>
            var database = firebase.database();
            function writeUserData(userId, name, email, imageUrl) {
                firebase.database().ref('users/' + userId).set({
                    username: lili,
                    email: 290884384@qq.com,
                    profile_picture : https://firebasestorage.googleapis.com/v0/b/study-chums.appspot.com/o/sakura.jpg?alt=media&token=903df6f5-d38a-41d8-b84a-ee2a4c470b16
                });
            };
            
            function NextUser(id){
                var userId = firebase.auth().currentUser.uid;
                return firebase.database().ref('/users/' + userId).once('value').then(function(snapshot) {
                    var username = (snapshot.val() && snapshot.val().username) || 'Anonymous';
                    // ...
                });
            };
            function ProfilePhoto(){
                //count the number of users
            
                //try use gathering to collect the 
                var userId = NextUser(randomid);
            };
            document.getElementById("demo").innerHTML = 5;
            ProfilePhoto();
        </script>
        <h2 style="text-align:center">Find you study chums</h2>
        <div class="card">
            <img src="https://firebasestorage.googleapis.com/v0/b/study-chums.appspot.com/o/sakura.jpg?alt=media&token=903df6f5-d38a-41d8-b84a-ee2a4c470b16" alt="Lili" style="width:100%">
            <h1>name </h1>
            <p class="title">Bio</p>
            <p>bio</p>
                <div style="margin: 24px 0;">
                    <a href="#"><i class="fa fa-dribbble"></i></a> 
                    <a href="#"><i class="fa fa-twitter"></i></a>  
                    <a href="#"><i class="fa fa-linkedin"></i></a>  
                    <a href="#"><i class="fa fa-facebook"></i></a> 
                </div>
            <p><button>Next</button></p>
          </div>

      </div>

      <!-- END CONTENT-->

      <!-- FOOTER -->
      <footer>
        Designed and Developed by Team Motivation 2019
      </footer>
      <!-- END FOOTER -->

      <script>
          function facebookSignOut() {
            firebase.auth().signOut().then(function() {
              FB.logout(function(response) {
              // user is now logged out
              });
              window.location.href = "index.html";
              console.log('Signout successful');                 
            }, function(error) {
                console.log('Signout failed')
            });
          }
      </script>

    </div>
  </body>
</html>