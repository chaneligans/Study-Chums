<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset=utf-8>
    <title>Study Chums</title>
  </head> 
  <body>
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyDFPHvR2SV7dodysPpvLUfIGp6huuBDf0A",
        authDomain: "study-chums.firebaseapp.com",
        databaseURL: "https://study-chums.firebaseio.com",
        projectId: "study-chums",
        storageBucket: "study-chums.appspot.com",
        messagingSenderId: "644812797355"
      };
      firebase.initializeApp(config);
    </script>
    
    <script>
      window.fbAsyncInit = function() {
        FB.init({
          appId      : '803620283323357',
          cookie     : true,
          xfbml      : true,
          version    : 'v3.2'
        });

        FB.AppEvents.logPageView();   

      };

      (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (d.getElementById(id)) {return;}
         js = d.createElement(s); js.id = id;
         js.src = "https://connect.facebook.net/en_US/sdk.js";
         fjs.parentNode.insertBefore(js, fjs);
       }(document, 'script', 'facebook-jssdk'));
    </script>
    <p>hello</p>
    
    <fb:login-button 
      scope="public_profile,email"
      onlogin="checkLoginState();">
    </fb:login-button>
    
    <script> // sign up with popup window
          
            var provider = new firebase.auth.FacebookAuthProvider();
          
            function facebookSignIn() {
                firebase.auth().signInWithPopup(provider).then(function(result) {
                // This gives you a Facebook Access Token. You can use it to access the Facebook API.
                var token = result.credential.accessToken;
                // The signed-in user info.
                var user = result.user;
                    console.log("Successfully signed in " + user.displayName)
                    // ...
                }).catch(function(error) {
                    // Handle Errors here.
                    var errorCode = error.code;
                    var errorMessage = error.message;
                    // The email of the user's account used.
                    var email = error.email;
                    // The firebase.auth.AuthCredential type that was used.
                    var credential = error.credential;
                });
            }
          
            function facebookSignOut() {
                firebase.auth().signOut().then(function() {
                    console.log('Signout successful');                 
                }, function(error) {
                    console.log('Signout failed')
                });
            }
        </script>
          
        <!--        <div class="fb-login-button" data-size="medium" data-button-type="login_with" data-auto-logout-link="true" data-use-continue-as="true"></div>-->
      
        <button class = "fbbutton" onclick = "facebookSignIn()">Facebook Sign In</button>
        <button class = "fbbutton" onclick = "facebookSignOut()">Facebook Sign Out</button>
  </body>
</html>