<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset=utf-8>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Profile | Study Chums</title>
    <link rel="icon" href="images/favicon.ico">
    <link rel="stylesheet" href="main.css">
    
    <!-- ??? -->
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    
    <!-- jQuery IMPORT -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        
    <!-- CHECK IF USED IS LOGGED IN -->
    <script type="text/javascript" src="scripts/check_login.js"></script>
    <script>window.onload = checkLogin;</script>

    <!-- FACEBOOK SIGN OUT-->
    <script type="text/javascript" src="scripts/facebook_logout.js"></script>
    
    <!-- PROFILE JAVASCRIPT (GET USER INFO FUNCTIONS) -->
    <script type="text/javascript" src="scripts/profile.js"></script>
    
  </head>
  <body>
    
    <!-- FIREBASE INITIALIZATION -->
    <script src="https://www.gstatic.com/firebasejs/5.8.4/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyDFPHvR2SV7dodysPpvLUfIGp6huuBDf0A",
        authDomain: "study-chums.firebaseapp.com",
        databaseURL: "https://study-chums.firebaseio.com",
        projectId: "study-chums",
        storageBucket: "study-chums.appspot.com",
        messagingSenderId: "644812797355"
      };
      firebase.initializeApp(config);
    </script>

    <!-- WRAPPER (WHITE BOX) -->
    <div id="wrapper">
      <!-- NAVIGATION MENU -->
      <nav>
        <button id="menubutton" class="accordion">Menu</button>
        <ul class="panel">
          <li><a href="home.html" class="nav-item">Home</a></li>
          <li><a href="discover.html" class="nav-item">Discover</a></li>
          <li><a href="profile.html" class="nav-item">Profile</a></li>
          <li><a href="messages.html" class="nav-item">Messages</a></li>
          <li><a href="chums.html" class="nav-item">Chums</a></li>
          <li><a href="applications.html" class="nav-item">Applications</a></li>
          <li><a class="nav-item" onclick="facebookSignOut();">Sign Out</a></li>
        </ul>
      </nav>
      <!-- END OF NAVIGATION MENU -->
      
      <!-- CONTENT (description, profiles) -->
      <div id="content">
        <div id="description">
          <h1>Your Profile</h1>
          <h3><a href="edit_profile.html">Edit Profile</a></h3>
        </div>
        <div id="profileview">
          <div class="profilecard">
            <img id="img"><script>getUserP1Url();</script>
            <h2 id="name"></h2>
            <script>getUserName();</script>
            <h3 id="major" class="title"></h3>
            <script>getUserMajor();</script>
            <p id="email" class="subtitle"></p>
            <script>getUserEmail();</script>
            <p id="bio"></p>
            <script>getUserBio();</script>
          </div>
        </div>
      </div>
      <!-- END CONTENT-->
      
      <script>
        // show and hide MENU
        // i'm not sure why but this only works when it's on the bottom
        var acc = document.getElementsByClassName("accordion");
        var i;

        for (i = 0; i < acc.length; i++) {
          acc[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var panel = this.nextElementSibling;
            if (panel.style.maxHeight){
              panel.style.maxHeight = null;
            } else {
              panel.style.maxHeight = panel.scrollHeight + "px";
            } 
          });
        }
      </script>
      
      <!-- FOOTER -->
      <footer>
        Designed and Developed by Team Motivation 2019
      </footer>
      <!-- END FOOTER -->
    </div>
  </body>
</html>